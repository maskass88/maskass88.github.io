<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EzzineStyle - متجر التيشيرتات</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f9f9f9;
            margin: 0;
            padding: 0;
            color: #333;
            line-height: 1.6;
        }
        
        header {
            text-align: center;
            padding: 30px 0;
            background: linear-gradient(135deg, #007bff 0%, #00bfff 100%);
            color: white;
            margin-bottom: 30px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .logo {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        
        .welcome {
            font-size: 1.2rem;
            margin-top: 0;
            opacity: 0.9;
        }
        
        .slogan {
            font-style: italic;
            margin-top: 10px;
            font-size: 1rem;
        }
        
        .products {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 25px;
            padding: 20px;
            max-width: 1300px;
            margin: 0 auto;
        }
        
        .product {
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            overflow: hidden;
            text-align: center;
            transition: all 0.3s ease;
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        .product:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
        
        .product img {
            width: 100%;
            height: 280px;
            object-fit: cover;
            display: block;
            border-bottom: 1px solid #eee;
        }
        
        .product-info {
            padding: 15px;
        }
        
        .model-number {
            font-weight: bold;
            color: #007bff;
            margin: 8px 0;
            font-size: 1.1rem;
        }
        
        .product-type {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 8px 0;
        }
        
        .type-badge {
            padding: 4px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
            background: #f0f0f0;
            color: #555;
        }
        
        .buy-btn {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 15px;
            width: 100%;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
            border-radius: 0 0 8px 8px;
        }
        
        .buy-btn:hover {
            background-color: #0069d9;
        }
        
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            backdrop-filter: blur(5px);
        }
        
        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 25px;
            border-radius: 10px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 5px 25px rgba(0,0,0,0.2);
            animation: modalFadeIn 0.3s;
        }
        
        @keyframes modalFadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .close {
            color: #aaa;
            float: left;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.3s;
        }
        
        .close:hover {
            color: #333;
        }
        
        .form-group {
            margin-bottom: 18px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #555;
        }
        
        input, select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 6px;
            box-sizing: border-box;
            font-size: 16px;
            transition: border 0.3s;
        }
        
        input:focus, select:focus {
            border-color: #007bff;
            outline: none;
            box-shadow: 0 0 0 3px rgba(0,123,255,0.1);
        }
        
        .quantity-control {
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 15px 0;
        }
        
        .quantity-btn {
            background-color: #007bff;
            color: white;
            border: none;
            width: 35px;
            height: 35px;
            font-size: 18px;
            cursor: pointer;
            border-radius: 6px;
            transition: background-color 0.3s;
        }
        
        .quantity-btn:hover {
            background-color: #0069d9;
        }
        
        .quantity-input {
            width: 60px;
            text-align: center;
            margin: 0 12px;
            font-size: 16px;
        }
        
        .submit-btn {
            background-color: #28a745;
            color: white;
            border: none;
            padding: 12px 15px;
            width: 100%;
            cursor: pointer;
            font-size: 16px;
            border-radius: 6px;
            margin-top: 15px;
            transition: background-color 0.3s;
            font-weight: bold;
        }
        
        .submit-btn:hover {
            background-color: #218838;
        }
        
        .hidden-message {
            color: #dc3545;
            text-align: center;
            margin-top: 10px;
            display: none;
            font-size: 14px;
        }
        
        .thank-you {
            text-align: center;
            font-size: 22px;
            color: #28a745;
            display: none;
            padding: 20px;
        }
        
        .thank-you i {
            margin-left: 10px;
        }
        
        .whatsapp-float {
            position: fixed;
            bottom: 30px;
            left: 30px;
            background-color: #25D366;
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            text-align: center;
            font-size: 28px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: transform 0.3s;
        }
        
        .whatsapp-float:hover {
            transform: scale(1.1);
        }
        
        footer {
            text-align: center;
            padding: 25px;
            margin-top: 50px;
            color: #666;
            border-top: 1px solid #eee;
            background-color: #f9f9f9;
            font-size: 14px;
        }
        
        .selected-product {
            text-align: center;
            margin-bottom: 20px;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 6px;
            font-weight: bold;
        }
        
        .error-message {
            color: #dc3545;
            font-size: 14px;
            margin-top: 5px;
            display: none;
        }
        
        .form-row {
            display: flex;
            gap: 15px;
        }
        
        .form-row .form-group {
            flex: 1;
        }
        
        @media (max-width: 768px) {
            .products {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            }
            
            .form-row {
                flex-direction: column;
                gap: 0;
            }
            
            .modal-content {
                width: 95%;
                margin: 10% auto;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">EzzineStyle</div>
        <p class="welcome">مرحباً بكم في متجر EzzineStyle</p>
        <p class="slogan">جودة عالية - تصميمات مميزة - أسعار تنافسية</p>
    </header>
    
    <div class="products" id="productsContainer">
        <!-- سيتم إضافة المنتجات ديناميكيًا -->
    </div>
    
    <div id="orderModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>طلب التيشيرت</h2>
            <div class="selected-product" id="selectedProductInfo">
                <!-- سيتم عرض معلومات المنتج المختار هنا -->
            </div>
            <form id="orderForm">
                <div class="form-row">
                    <div class="form-group">
                        <label for="name">الاسم الكامل:</label>
                        <input type="text" id="name" required>
                        <div class="error-message" id="nameError">الرجاء إدخال الاسم الكامل</div>
                    </div>
                    
                    <div class="form-group">
                        <label for="phone">رقم الهاتف:</label>
                        <input type="tel" id="phone" required>
                        <div class="error-message" id="phoneError">الرجاء إدخال رقم هاتف صحيح</div>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="wilaya">الولاية:</label>
                        <select id="wilaya" required>
                            <option value="">اختر الولاية</option>
                            <!-- سيتم ملء الولايات -->
                        </select>
                        <div class="error-message" id="wilayaError">الرجاء اختيار الولاية</div>
                    </div>
                    
                    <div class="form-group">
                        <label for="commune">البلدية:</label>
                        <select id="commune" required disabled>
                            <option value="">اختر البلدية</option>
                        </select>
                        <div class="error-message" id="communeError">الرجاء اختيار البلدية</div>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="size">المقاس:</label>
                        <select id="size" required>
                            <option value="">اختر المقاس</option>
                            <option value="S">S</option>
                            <option value="M">M</option>
                            <option value="L">L</option>
                            <option value="XL">XL</option>
                            <option value="XXL">XXL</option>
                        </select>
                        <div class="error-message" id="sizeError">الرجاء اختيار المقاس</div>
                    </div>
                    
                    <div class="form-group">
                        <label for="type">النوع:</label>
                        <select id="type" required>
                            <option value="">اختر النوع</option>
                            <option value="Oversize">Oversize</option>
                            <option value="Regular">Regular</option>
                        </select>
                        <div class="error-message" id="typeError">الرجاء اختيار النوع</div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>الكمية:</label>
                    <div class="quantity-control">
                        <button type="button" class="quantity-btn" id="decrease">-</button>
                        <input type="number" class="quantity-input" id="quantity" value="1" min="1">
                        <button type="button" class="quantity-btn" id="increase">+</button>
                    </div>
                    <p class="hidden-message" id="quantityMessage">الحد الأقصى للطلب هو 30 قطعة</p>
                </div>
                
                <button type="submit" class="submit-btn">تأكيد الطلب</button>
            </form>
            
            <div class="thank-you" id="thankYou">
                شكراً لك على طلبك! <i class="fas fa-heart"></i><br>
                سنتواصل معك قريباً لتأكيد التفاصيل
            </div>
        </div>
    </div>
    
    <a href="https://wa.me/213781059339" class="whatsapp-float" target="_blank">
        <i class="fab fa-whatsapp"></i>
    </a>
    
    <footer>
        <div>Made with <i class="fas fa-heart" style="color: #dc3545;"></i> by EzzineStyle</div>
        <div style="margin-top: 10px;">© 2023 جميع الحقوق محفوظة</div>
    </footer>
    
    <script>
        // بيانات المنتجات
        const products = [
            { id: 1, name: "تيشيرت Model 1", types: ["Oversize", "Regular"], price: 1200 },
            { id: 2, name: "تيشيرت Model 2", types: ["Oversize", "Regular"], price: 1200 },
            // ... أضف باقي المنتجات بنفس الهيكل حتى 19
        ];
        
        // إنشاء قائمة المنتجات
        function createProducts() {
            const container = document.getElementById('productsContainer');
            container.innerHTML = '';
            
            products.forEach((product, index) => {
                const productDiv = document.createElement('div');
                productDiv.className = 'product';
                
                const img = document.createElement('img');
                img.src = `t${index+1}.jpg`;
                img.alt = product.name;
                img.onerror = function() {
                    this.src = 'https://via.placeholder.com/300x400?text=EzzineStyle+' + (index+1);
                };
                
                const productInfo = document.createElement('div');
                productInfo.className = 'product-info';
                
                const modelNumber = document.createElement('div');
                modelNumber.className = 'model-number';
                modelNumber.textContent = `Model ${index+1}`;
                
                const productType = document.createElement('div');
                productType.className = 'product-type';
                product.types.forEach(type => {
                    const typeBadge = document.createElement('span');
                    typeBadge.className = 'type-badge';
                    typeBadge.textContent = type;
                    productType.appendChild(typeBadge);
                });
                
                const price = document.createElement('div');
                price.textContent = `${product.price} دج`;
                price.style.margin = '8px 0';
                price.style.fontWeight = 'bold';
                price.style.color = '#28a745';
                
                const buyBtn = document.createElement('button');
                buyBtn.className = 'buy-btn';
                buyBtn.textContent = 'اشترِ الآن';
                buyBtn.dataset.productId = product.id;
                buyBtn.onclick = function() {
                    openModal(product);
                };
                
                productInfo.appendChild(modelNumber);
                productInfo.appendChild(productType);
                productInfo.appendChild(price);
                
                productDiv.appendChild(img);
                productDiv.appendChild(productInfo);
                productDiv.appendChild(buyBtn);
                
                container.appendChild(productDiv);
            });
        }
        
        // فتح نافذة الطلب مع بيانات المنتج المحدد
        let selectedProduct = null;
        
        function openModal(product) {
            selectedProduct = product;
            const modal = document.getElementById('orderModal');
            const productInfo = document.getElementById('selectedProductInfo');
            
            productInfo.innerHTML = `
                <div>${product.name}</div>
                <div style="font-size: 0.9rem; color: #666;">السعر: ${product.price} دج</div>
            `;
            
            modal.style.display = 'block';
            document.body.style.overflow = 'hidden';
        }
        
        // إدارة النافذة المنبثقة
        const modal = document.getElementById('orderModal');
        const closeBtn = document.querySelector('.close');
        const orderForm = document.getElementById('orderForm');
        const thankYou = document.getElementById('thankYou');
        
        closeBtn.onclick = function() {
            closeModal();
        };
        
        window.onclick = function(event) {
            if (event.target == modal) {
                closeModal();
            }
        };
        
        function closeModal() {
            modal.style.display = 'none';
            orderForm.style.display = 'block';
            thankYou.style.display = 'none';
            orderForm.reset();
            document.body.style.overflow = 'auto';
            clearErrors();
        }
        
        // إدارة الكمية
        const decreaseBtn = document.getElementById('decrease');
        const increaseBtn = document.getElementById('increase');
        const quantityInput = document.getElementById('quantity');
        const quantityMessage = document.getElementById('quantityMessage');
        
        decreaseBtn.addEventListener('click', function() {
            let value = parseInt(quantityInput.value);
            if (value > 1) {
                quantityInput.value = value - 1;
            }
            checkQuantity();
        });
        
        increaseBtn.addEventListener('click', function() {
            let value = parseInt(quantityInput.value);
            quantityInput.value = value + 1;
            checkQuantity();
        });
        
        function checkQuantity() {
            if (parseInt(quantityInput.value) > 30) {
                quantityMessage.style.display = 'block';
            } else {
                quantityMessage.style.display = 'none';
            }
        }
        
        // الولايات والبلديات الجزائرية
        const wilayas = {
            "1": "أدرار", "2": "الشلف", "3": "الأغواط", "4": "أم البواقي", "5": "باتنة",
            "6": "بجاية", "7": "بسكرة", "8": "بشار", "9": "البليدة", "10": "البويرة",
            // ... جميع الولايات حتى 58
        };
        
        const communes = {
            "1": ["أدرار", "تمقطن", "زاوية كنتة", "رقان", "تسابيت"],
            "2": ["الشلف", "وادي الفضة", "بني حواء", "الكريمية", "الزبوجة"],
            // ... جميع البلديات لكل ولاية
        };
        
        // ملء قائمة الولايات
        const wilayaSelect = document.getElementById('wilaya');
        for (const [code, name] of Object.entries(wilayas)) {
            const option = document.createElement('option');
            option.value = code;
            option.textContent = name;
            wilayaSelect.appendChild(option);
        }
        
        // تحديث البلديات عند اختيار الولاية
        wilayaSelect.addEventListener('change', function() {
            const communeSelect = document.getElementById('commune');
            communeSelect.innerHTML = '<option value="">اختر البلدية</option>';
            
            if (this.value && communes[this.value]) {
                communeSelect.disabled = false;
                communes[this.value].forEach(commune => {
                    const option = document.createElement('option');
                    option.value = commune;
                    option.textContent = commune;
                    communeSelect.appendChild(option);
                });
            } else {
                communeSelect.disabled = true;
            }
        });
        
        // التحقق من صحة البيانات
        function validateForm() {
            let isValid = true;
            clearErrors();
            
            if (!document.getElementById('name').value.trim()) {
                document.getElementById('nameError').style.display = 'block';
                isValid = false;
            }
            
            const phone = document.getElementById('phone').value.trim();
            if (!phone || !/^(\+?\d{10,12})$/.test(phone)) {
                document.getElementById('phoneError').style.display = 'block';
                isValid = false;
            }
            
            if (!document.getElementById('wilaya').value) {
                document.getElementById('wilayaError').style.display = 'block';
                isValid = false;
            }
            
            if (!document.getElementById('commune').value) {
                document.getElementById('communeError').style.display = 'block';
                isValid = false;
            }
            
            if (!document.getElementById('size').value) {
                document.getElementById('sizeError').style.display = 'block';
                isValid = false;
            }
            
            if (!document.getElementById('type').value) {
                document.getElementById('typeError').style.display = 'block';
                isValid = false;
            }
            
            return isValid;
        }
        
        function clearErrors() {
            document.querySelectorAll('.error-message').forEach(el => {
                el.style.display = 'none';
            });
        }
        
        // إرسال الطلب
        orderForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            if (!validateForm()) return;
            
            // جمع بيانات الطلب
            const orderData = {
                product: selectedProduct.name,
                model: `Model ${selectedProduct.id}`,
                name: document.getElementById('name').value,
                phone: document.getElementById('phone').value,
                wilaya: document.getElementById('wilaya').options[document.getElementById('wilaya').selectedIndex].text,
                commune: document.getElementById('commune').options[document.getElementById('commune').selectedIndex].text,
                size: document.getElementById('size').value,
                type: document.getElementById('type').value,
                quantity: document.getElementById('quantity').value,
                totalPrice: selectedProduct.price * parseInt(document.getElementById('quantity').value),
                date: new Date().toLocaleString('ar-DZ')
            };
            
            // هنا يمكنك إرسال البيانات إلى الخادم أو خدمة خارجية
            sendOrderToServer(orderData);
            
            // عرض رسالة الشكر
            orderForm.style.display = 'none';
            thankYou.style.display = 'block';
            
            // إغلاق النافذة بعد 3 ثواني
            setTimeout(closeModal, 3000);
        });
        
        // دالة محاكاة لإرسال الطلب (استبدلها بالحل الحقيقي)
        function sendOrderToServer(orderData) {
            console.log('تم إرسال الطلب:', orderData);
            
            // حل باستخدام Formspree (يحتاج إلى استبدال بالإيميل الخاص بك)
            const formData = new FormData();
            for (const key in orderData) {
                formData.append(key, orderData[key]);
            }
            
            fetch('https://formspree.io/f/your-form-id', {
                method: 'POST',
                body: formData,
                headers: {
                    'Accept': 'application/json'
                }
            })
            .then(response => {
                if (response.ok) {
                    console.log('تم إرسال الطلب بنجاح');
                } else {
                    console.error('خطأ في إرسال الطلب');
                }
            })
            .catch(error => {
                console.error('Error:', error);
            });
        }
        
        // تهيئة الصفحة عند التحميل
        window.onload = function() {
            createProducts();
            
            // يمكنك إضافة هذا للتحقق من ظهور الصور
            console.log('تم تحميل الصفحة بنجاح');
            
            // اختبار ظهور الصور في الكونسول
            for (let i = 1; i <= 19; i++) {
                const img = new Image();
                img.src = `t${i}.jpg`;
                img.onerror = function() {
                    console.warn(`الصورة t${i}.jpg غير موجودة`);
                };
            }
        };
    </script>
</body>
</html>
