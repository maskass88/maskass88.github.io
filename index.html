<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>EzzineStyle - متجر التيشيرتات</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Tajawal', Arial, sans-serif;
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }
        
        header {
            background: linear-gradient(135deg, #007bff 0%, #00bfff 100%);
            color: white;
            padding: 15px;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .logo {
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        .welcome {
            font-size: 0.9rem;
            margin-top: 5px;
        }
        
        .products-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            padding: 10px;
        }
        
        @media (min-width: 768px) {
            .products-container {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        
        .product-item {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }
        
        .product-item:active {
            transform: scale(0.98);
        }
        
        .product-image {
            width: 100%;
            height: 180px;
            object-fit: cover;
            border-bottom: 1px solid #eee;
        }
        
        .buy-btn {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 8px;
            width: 100%;
            font-size: 14px;
            cursor: pointer;
        }
        
        /* نافذة الطلب الموسعة */
        .order-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0,0,0,0.8);
            z-index: 1000;
            overflow-y: auto;
            padding: 20px 0;
        }
        
        .order-content {
            background: white;
            margin: 0 auto;
            width: 95%;
            max-width: 500px;
            border-radius: 10px;
            overflow: hidden;
            animation: modalFadeIn 0.3s;
        }
        
        @keyframes modalFadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .selected-product-image {
            width: 100%;
            height: 300px;
            object-fit: cover;
        }
        
        .product-details {
            padding: 15px;
        }
        
        .selected-model {
            font-weight: bold;
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: #007bff;
        }
        
        .price-display {
            font-weight: bold;
            font-size: 1.1rem;
            color: #28a745;
            margin: 10px 0;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            font-size: 14px;
        }
        
        input, select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
        }
        
        .quantity-control {
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 15px 0;
        }
        
        .quantity-btn {
            width: 40px;
            height: 40px;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 18px;
            cursor: pointer;
        }
        
        .quantity-input {
            width: 60px;
            text-align: center;
            margin: 0 10px;
            font-size: 16px;
            padding: 8px;
        }
        
        .submit-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 12px;
            width: 100%;
            border-radius: 5px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 10px;
        }
        
        .close-btn {
            position: absolute;
            top: 15px;
            left: 15px;
            background: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            z-index: 1001;
        }
        
        .whatsapp-float {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: #25D366;
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            z-index: 100;
        }
        
        footer {
            text-align: center;
            padding: 15px;
            background: white;
            margin-top: 20px;
            border-top: 1px solid #eee;
            font-size: 14px;
        }
        
        .thank-you-message {
            display: none;
            text-align: center;
            padding: 20px;
            color: #28a745;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">EzzineStyle</div>
        <div class="welcome">موضة تميزك بأسلوب</div>
    </header>
    
    <div class="products-container" id="productsContainer">
        <!-- سيتم ملؤها بالجافاسكريبت -->
    </div>
    
    <div id="orderModal" class="order-modal">
        <div class="close-btn" onclick="closeOrderModal()">&times;</div>
        <div class="order-content">
            <img id="selectedProductImage" class="selected-product-image" src="" alt="">
            <div class="product-details">
                <div id="selectedModel" class="selected-model"></div>
                <div id="priceDisplay" class="price-display"></div>
                
                <form id="orderForm">
                    <div class="form-group">
                        <label for="name">الاسم الكامل:</label>
                        <input type="text" id="name" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="phone">رقم الهاتف:</label>
                        <input type="tel" id="phone" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="wilaya">الولاية:</label>
                        <select id="wilaya" required>
                            <option value="">اختر الولاية</option>
                            <!-- سيتم ملؤها بالجافاسكريبت -->
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="commune">البلدية:</label>
                        <select id="commune" required disabled>
                            <option value="">اختر البلدية</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="size">المقاس:</label>
                        <select id="size" required>
                            <option value="">اختر المقاس</option>
                            <option value="S">S</option>
                            <option value="M">M</option>
                            <option value="L">L</option>
                            <option value="XL">XL</option>
                            <option value="XXL">XXL</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="type">النوع:</label>
                        <select id="type" required onchange="updatePrice()">
                            <option value="">اختر النوع</option>
                            <option value="Oversize">Oversize - 2900 دج</option>
                            <option value="Regular">Regular - 2700 دج</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label>الكمية:</label>
                        <div class="quantity-control">
                            <button type="button" class="quantity-btn" onclick="decreaseQuantity()">-</button>
                            <input type="number" id="quantity" class="quantity-input" value="1" min="1" onchange="updatePrice()">
                            <button type="button" class="quantity-btn" onclick="increaseQuantity()">+</button>
                        </div>
                    </div>
                    
                    <div id="totalPrice" style="text-align: center; margin: 15px 0; font-weight: bold; font-size: 1.2rem;">
                        المجموع: 0 دج
                    </div>
                    
                    <button type="submit" class="submit-btn">تأكيد الطلب</button>
                </form>
                
                <div id="thankYouMessage" class="thank-you-message">
                    شكراً لك على طلبك! سنتواصل معك قريباً
                </div>
            </div>
        </div>
    </div>
    
    <a href="https://wa.me/213781059339" class="whatsapp-float" target="_blank">
        <i class="fab fa-whatsapp"></i>
    </a>
    
    <footer>
        Made with <i class="fas fa-heart" style="color: red;"></i> by EzzineStyle
    </footer>

    <script>
        // بيانات المنتجات
        const products = [];
        for (let i = 1; i <= 19; i++) {
            products.push({
                id: i,
                name: `Model ${i}`,
                image: `t${i}.jpg`,
                oversizePrice: 2900,
                regularPrice: 2700
            });
        }
        
        // عرض المنتجات
        function displayProducts() {
            const container = document.getElementById('productsContainer');
            container.innerHTML = '';
            
            products.forEach(product => {
                const productDiv = document.createElement('div');
                productDiv.className = 'product-item';
                
                productDiv.innerHTML = `
                    <img src="${product.image}" class="product-image" onerror="this.src='https://via.placeholder.com/300x400?text=Model+${product.id}'">
                    <button class="buy-btn" onclick="openOrderModal(${product.id})">اشترِ الآن</button>
                `;
                
                container.appendChild(productDiv);
            });
        }
        
        // فتح نافذة الطلب
        let currentProduct = null;
        
        function openOrderModal(productId) {
            currentProduct = products.find(p => p.id === productId);
            
            document.getElementById('selectedModel').textContent = currentProduct.name;
            document.getElementById('selectedProductImage').src = currentProduct.image;
            document.getElementById('selectedProductImage').onerror = function() {
                this.src = 'https://via.placeholder.com/300x400?text=' + currentProduct.name;
            };
            
            updatePrice();
            document.getElementById('orderModal').style.display = 'block';
            document.body.style.overflow = 'hidden';
            document.getElementById('thankYouMessage').style.display = 'none';
            document.getElementById('orderForm').style.display = 'block';
        }
        
        // إغلاق نافذة الطلب
        function closeOrderModal() {
            document.getElementById('orderModal').style.display = 'none';
            document.body.style.overflow = 'auto';
            document.getElementById('orderForm').reset();
        }
        
        // إدارة الكمية
        function increaseQuantity() {
            const qtyInput = document.getElementById('quantity');
            qtyInput.value = parseInt(qtyInput.value) + 1;
            updatePrice();
        }
        
        function decreaseQuantity() {
            const qtyInput = document.getElementById('quantity');
            if (parseInt(qtyInput.value) > 1) {
                qtyInput.value = parseInt(qtyInput.value) - 1;
                updatePrice();
            }
        }
        
        // تحديث السعر
        function updatePrice() {
            if (!currentProduct) return;
            
            const type = document.getElementById('type').value;
            const quantity = parseInt(document.getElementById('quantity').value) || 1;
            let price = 0;
            
            if (type === 'Oversize') {
                price = currentProduct.oversizePrice;
                document.getElementById('priceDisplay').textContent = 'السعر: 2900 دج';
            } else if (type === 'Regular') {
                price = currentProduct.regularPrice;
                document.getElementById('priceDisplay').textContent = 'السعر: 2700 دج';
            } else {
                document.getElementById('priceDisplay').textContent = 'اختر النوع لرؤية السعر';
                document.getElementById('totalPrice').textContent = 'المجموع: 0 دج';
                return;
            }
            
            const total = price * quantity;
            document.getElementById('totalPrice').textContent = `المجموع: ${total} دج`;
        }
        
        // جميع الولايات الجزائرية الـ58 مع جميع البلديات
        const wilayas = {
            "1": {name: "أدرار", communes: ["أدرار", "تمقطن", "زاوية كنتة", "رقان", "تسابيت", "أولف", "تيميمون", "أوقروت", "برج باجي مختار", "فنوغيل"]},
            "2": {name: "الشلف", communes: ["الشلف", "وادي الفضة", "بني حواء", "الكريمية", "الزبوجة", "بوعينان", "أولاد فارس", "أولاد بن عبد القادر", "تاجنة", "المرسى"]},
            "3": {name: "الأغواط", communes: ["الأغواط", "قصر الحيران", "حاسي الدلاعة", "تاجموت", "أفلو", "سيدي مخلوف", "الحويطة", "الغيشة", "سبقاق", "بريان"]},
            "4": {name: "أم البواقي", communes: ["أم البواقي", "عين البيضاء", "سوق نعمان", "عين مليلة", "سيقوس", "مسكيانة", "فكيرينة", "عين فكرون", "بئر الشهداء", "العامرية"]},
            "5": {name: "باتنة", communes: ["باتنة", "فسديس", "مروانة", "رأس العيون", "تازولت", "نقاوس", "إشمول", "بريكة", "الجزار", "تكوت"]},
            "6": {name: "بجاية", communes: ["بجاية", "أقبو", "تازمالت", "خراطة", "صدوق", "سيدي عيش", "أوزلاقن", "تيمزريت", "أيت سماعيل", "توجة"]},
            "7": {name: "بسكرة", communes: ["بسكرة", "أورلال", "زريبة الوادي", "ليشانة", "مليلي", "القنطرة", "أوماش", "الوطاية", "سيدي عقبة", "فوغالة"]},
            "8": {name: "بشار", communes: ["بشار", "بني ونيف", "تاغيت", "بوكايس", "القنادسة", "موغل", "عرق فراج", "العبادلة", "تيمودي", "كرزاز"]},
            "9": {name: "البليدة", communes: ["البليدة", "بوفاريك", "بوعينان", "الأربعاء", "مفتاح", "بوقرة", "حمام ملوان", "وادي العلايق", "بني تامو", "بني مراد"]},
            "10": {name: "البويرة", communes: ["البويرة", "الأخضرية", "سور الغزلان", "بشلول", "الأصنام", "المعمورة", "حيزر", "سوق الخميس", "الهاشمية", "روراوة"]},
            "11": {name: "تمنراست", communes: ["تمنراست", "عين غار", "إينغر", "تاظروك", "عين صالح", "إين أمقل", "تاهيفاوين", "أبلسة", "تيمياوين", "تيت"]},
            "12": {name: "تبسة", communes: ["تبسة", "بئر الذهب", "مرسط", "العوينات", "بئر مقدم", "العقلة", "الشريعة", "نقرين", "بوقاعة", "الونزة"]},
            "13": {name: "تلمسان", communes: ["تلمسان", "بني سنوس", "الرمشي", "صبرة", "غزوات", "سيدي الجيلالي", "باب العسة", "الفحول", "عين تالوت", "عين غرابة"]},
            "14": {name: "تيارت", communes: ["تيارت", "مدروسة", "عين الذهب", "قصر الشلالة", "فرندة", "عين كرمس", "رحوية", "السوقر", "مشرع الصفا", "توسنينة"]},
            "15": {name: "تيزي وزو", communes: ["تيزي وزو", "عزازقة", "أزفون", "ذراع الميزان", "بني دوالة", "بني زمنزار", "مقلع", "واقنون", "مشطرا", "إيفيغاء"]},
            "16": {name: "الجزائر", communes: ["الجزائر الوسطى", "باب الوادي", "الحراش", "بئر مراد رايس", "بئر خادم", "الدار البيضاء", "بولوغين", "القبة", "الحمامات", "الرويبة"]},
            "17": {name: "الجلفة", communes: ["الجلفة", "حاسي بحبح", "عين وسارة", "دار الشيوخ", "الشارف", "حد الصحاري", "مسعد", "زعفران", "سيدي لعجال", "عين الإبل"]},
            "18": {name: "جيجل", communes: ["جيجل", "الميلية", "الطاهير", "الشقفة", "سيدي معروف", "العنصر", "القالة", "الطاهير", "الشقفة", "سيدي معروف"]},
            "19": {name: "سطيف", communes: ["سطيف", "عين أرنات", "بئر العرش", "بني عزيز", "بني ورتيلان", "جميلة", "قنزات", "صالح باي", "العلمة", "حمام قرقور"]},
            "20": {name: "سعيدة", communes: ["سعيدة", "يوب", "سيدي عمر", "حاسي زهانة", "أولاد براهيم", "المعمورة", "سيدي أحمد", "عين السلطان", "البيض", "بوقايد"]},
            "21": {name: "سكيكدة", communes: ["سكيكدة", "الحدائق", "عزابة", "بن عزوز", "الرمكة", "تمالوس", "الولجة", "أولاد عطية", "الزيتونة", "جمور"]},
            "22": {name: "سيدي بلعباس", communes: ["سيدي بلعباس", "تسالة", "عين البرد", "سيدي علي بوسيدي", "تغاليمت", "مرين", "رأس الماء", "سيدي لحسن", "مزاورو", "عين الثريد"]},
            "23": {name: "عنابة", communes: ["عنابة", "برحال", "الحجار", "البوني", "العلمة", "الشرفة", "وادي العنب", "سرايدي", "شطايبي", "عين الباردة"]},
            "24": {name: "قالمة", communes: ["قالمة", "هيليوبوليس", "بوشقوف", "حمام النبايل", "قلعة بوصبع", "مجاز الصفاء", "عين بن بيضاء", "وادي الزناتي", "بومهرة أحمد", "عين مخلوف"]},
            "25": {name: "قسنطينة", communes: ["قسنطينة", "الخروب", "عين عبيد", "زيغود يوسف", "ابن زياد", "بني حميدان", "حامة بوزيان", "المرسى", "عين السمارة", "الرأس الأسود"]},
            "26": {name: "المدية", communes: ["المدية", "برج الأمير خالد", "بني سليمان", "العزيزية", "الشيخ", "وزرة", "سيدي نعمان", "تابنة", "العوينات", "العمارية"]},
            "27": {name: "مستغانم", communes: ["مستغانم", "حجاج", "سيدي علي", "عشعاشة", "خير الدين", "سيدي لخضر", "ماسكار", "حاسي مماش", "أولاد مع الله", "سيدي بلعطار"]},
            "28": {name: "المسيلة", communes: ["المسيلة", "بوسعادة", "أولاد دراج", "بن سرور", "جبل مساعد", "المعاضيد", "الهامل", "خضرة", "مقرة", "سيدي عامر"]},
            "29": {name: "معسكر", communes: ["معسكر", "سيق", "غريس", "وادي الأبطال", "عين فراح", "ماوسة", "المحمدية", "تيغنيف", "البرج", "زهانة"]},
            "30": {name: "ورقلة", communes: ["ورقلة", "عين البيضاء", "تقورت", "حاسي مسعود", "البرمة", "النزلة", "سيدي خويلد", "بلدة", "تماسين", "الرويسات"]},
            "31": {name: "وهران", communes: ["وهران", "عين الترك", "أرزيو", "بطيوة", "السانية", "بئر الجير", "حاسي بونيف", "بوسفر", "العنصر", "قديل"]},
            "32": {name: "البيض", communes: ["البيض", "بوقطب", "البنود", "بريزينة", "الغاسول", "الأبيض سيدي الشيخ", "بوسمغون", "الخيثر", "الرجم", "الطوابين"]},
            "33": {name: "إيليزي", communes: ["إيليزي", "جانت", "برج الحواس", "عين أمقل", "تيمياوين", "أبلسة", "تاهيفاوين", "تيت", "تاظروك", "إينغر"]},
            "34": {name: "برج بوعريريج", communes: ["برج بوعريريج", "رأس الوادي", "برج الغدير", "المنصورة", "مجانة", "بئر قاصد علي", "الحمادية", "الأصنام", "بليمور", "تكلاليت"]},
            "35": {name: "بومرداس", communes: ["بومرداس", "بغلية", "بودواو", "الثنية", "خميس الخشنة", "الناصرية", "دلس", "أولاد هداج", "ثنية بني عائشة", "سي مصطفى"]},
            "36": {name: "الطارف", communes: ["الطارف", "بني مهيل", "البسباس", "بوحجار", "الشط", "العيون", "الذرعان", "بوثلجة", "القالة", "الشقفة"]},
            "37": {name: "تندوف", communes: ["تندوف", "أولاد خضير", "أم العسل", "المريجة", "السبع", "الزويرات", "بئر أم قرين", "بئر الحلو", "بئر العاتر", "بئر مقدم"]},
            "38": {name: "تيسمسيلت", communes: ["تيسمسيلت", "خميستي", "ثنية الأحد", "العيون", "الأزهرية", "برج الأمير عبد القادر", "بوقايد", "سيدي عابد", "سيدي بوتوشنت", "تاقدمت"]},
            "39": {name: "الوادي", communes: ["الوادي", "قمار", "الرباح", "البياضة", "حاسي خليفة", "المقرن", "الطالب العربي", "الدبيلة", "الرقيبة", "الزقم"]},
            "40": {name: "خنشلة", communes: ["خنشلة", "بابار", "ششار", "أولاد رشاش", "بغاي", "بوحمامة", "يابوس", "تاكسلانت", "أولاد زواوي", "الحامة"]},
            "41": {name: "سوق أهراس", communes: ["سوق أهراس", "سدراتة", "أم العظائم", "تاورة", "الحدادة", "المراهنة", "بئر بوحوش", "العلمة", "الولجة", "الزعرورية"]},
            "42": {name: "تيبازة", communes: ["تيبازة", "شرشال", "دواودة", "فوكة", "بوهارون", "القليعة", "حجوط", "سيدي غيلاس", "الناظور", "خميستي"]},
            "43": {name: "ميلة", communes: ["ميلة", "فرجيوة", "شلغوم العيد", "تاجنانت", "ترعي باينان", "سيدي مروان", "وادي العثمانية", "أحمد راشدي", "عين البيضاء", "التلاغمة"]},
            "44": {name: "عين الدفلى", communes: ["عين الدفلى", "مليانة", "بومدفع", "خميس مليانة", "العامرية", "العبادية", "بئر ولد خليفة", "بربوش", "الروينة", "الطاهير"]},
            "45": {name: "النعامة", communes: ["النعامة", "مغرار", "عين الصفراء", "تيوت", "الصفيصيفة", "المشرية", "عسلة", "جنين بورزق", "مكمن بن عمار", "سفيسيفة"]},
            "46": {name: "عين تموشنت", communes: ["عين تموشنت", "بني صاف", "حمام بوحجر", "العين", "الأزهرية", "السهل", "وادي برقش", "بوجبهة", "سيدي بن عدة", "تافنة"]},
            "47": {name: "غرداية", communes: ["غرداية", "متليلي", "زلفانة", "منيعة", "القرارة", "بريان", "العطف", "بنورة", "حاسي القارة", "ضاية بن ضحوة"]},
            "48": {name: "غليزان", communes: ["غليزان", "وادي رهيو", "المطمر", "يلل", "عمي موسى", "القلعة", "الحمادنة", "المنور", "سيدي سعادة", "عين طارق"]},
            "49": {name: "تيميمون", communes: ["تيميمون", "أولاد السعيد", "أولاد عيسى", "تيت", "تامست", "تامنطيط", "أولاد راشد", "أولاد سيدي الشيخ", "أولاد يحيى", "أولاد ميمون"]},
            "50": {name: "برج باجي مختار", communes: ["برج باجي مختار", "تيمياوين", "أبلسة", "تاهيفاوين", "تيت", "تاظروك", "إينغر", "عين صالح", "إين أمقل", "تمنراست"]},
            "51": {name: "أولاد جلال", communes: ["أولاد جلال", "بني وسين", "بوسعادة", "المعاضيد", "سيدي عامر", "المسيلة", "جبل مساعد", "خضرة", "مقرة", "الهامل"]},
            "52": {name: "بني عباس", communes: ["بني عباس", "تيمودي", "كرزاز", "تاغيت", "بوكايس", "القنادسة", "موغل", "عرق فراج", "العبادلة", "بشار"]},
            "53": {name: "عين صالح", communes: ["عين صالح", "إين أمقل", "تيمياوين", "أبلسة", "تاهيفاوين", "تيت", "تاظروك", "إينغر", "تمنراست", "برج باجي مختار"]},
            "54": {name: "عين قزام", communes: ["عين قزام", "تيمياوين", "أبلسة", "تاهيفاوين", "تيت", "تاظروك", "إينغر", "عين صالح", "إين أمقل", "تمنراست"]},
            "55": {name: "تقرت", communes: ["تقرت", "تماسين", "الرويسات", "بلدة", "سيدي خويلد", "النزلة", "البرمة", "حاسي مسعود", "تقورت", "ورقلة"]},
            "56": {name: "جانت", communes: ["جانت", "إيليزي", "برج الحواس", "عين أمقل", "تيمياوين", "أبلسة", "تاهيفاوين", "تيت", "تاظروك", "إينغر"]},
            "57": {name: "المغير", communes: ["المغير", "المنيعة", "حاسي القارة", "ضاية بن ضحوة", "بريان", "العطف", "بنورة", "غرداية", "متليلي", "زلفانة"]},
            "58": {name: "المنيعة", communes: ["المنيعة", "حاسي القارة", "ضاية بن ضحوة", "بريان", "العطف", "بنورة", "غرداية", "متليلي", "زلفانة", "المغير"]}
        };
        
        // ملء قائمة الولايات
        function populateWilayas() {
            const wilayaSelect = document.getElementById('wilaya');
            
            for (const [code, wilaya] of Object.entries(wilayas)) {
                const option = document.createElement('option');
                option.value = code;
                option.textContent = wilaya.name;
                wilayaSelect.appendChild(option);
            }
            
            // تحديث البلديات عند اختيار الولاية
            wilayaSelect.addEventListener('change', function() {
                const communeSelect = document.getElementById('commune');
                communeSelect.innerHTML = '<option value="">اختر البلدية</option>';
                
                if (this.value && wilayas[this.value]) {
                    communeSelect.disabled = false;
                    wilayas[this.value].communes.forEach(commune => {
                        const option = document.createElement('option');
                        option.value = commune;
                        option.textContent = commune;
                        communeSelect.appendChild(option);
                    });
                } else {
                    communeSelect.disabled = true;
                }
            });
        }
        
        // إرسال الطلب تلقائياً
        document.getElementById('orderForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // جمع بيانات الطلب
            const orderData = {
                product: currentProduct.name,
                image: currentProduct.image,
                name: document.getElementById('name').value,
                phone: document.getElementById('phone').value,
                wilaya: document.getElementById('wilaya').options[document.getElementById('wilaya').selectedIndex].text,
                commune: document.getElementById('commune').value,
                size: document.getElementById('size').value,
                type: document.getElementById('type').value,
                quantity: document.getElementById('quantity').value,
                totalPrice: document.getElementById('totalPrice').textContent,
                date: new Date().toLocaleString('ar-DZ')
            };
            
            // إرسال الطلب تلقائياً
            sendOrderAutomatically(orderData);
            
            // عرض رسالة الشكر وإخفاء النموذج
            document.getElementById('orderForm').style.display = 'none';
            document.getElementById('thankYouMessage').style.display = 'block';
            
            // إغلاق النافذة بعد 3 ثواني
            setTimeout(closeOrderModal, 3000);
        });
        
        // دالة إرسال الطلب تلقائياً
        function sendOrderAutomatically(orderData) {
            // هنا نستخدم Formspree لإرسال البريد تلقائياً
            const formData = new FormData();
            formData.append('product', orderData.product);
            formData.append('name', orderData.name);
            formData.append('phone', orderData.phone);
            formData.append('wilaya', orderData.wilaya);
            formData.append('commune', orderData.commune);
            formData.append('size', orderData.size);
            formData.append('type', orderData.type);
            formData.append('quantity', orderData.quantity);
            formData.append('totalPrice', orderData.totalPrice);
            formData.append('date', orderData.date);
            
            // استبدل YOUR_FORMSPREE_ID بالمعرف الخاص بك من Formspree
            fetch('https://formspree.io/f/YOUR_FORMSPREE_ID', {
                method: 'POST',
                body: formData,
                headers: {
                    'Accept': 'application/json'
                }
            })
            .then(response => {
                if (response.ok) {
                    console.log('تم إرسال الطلب بنجاح');
                } else {
                    console.error('خطأ في إرسال الطلب');
                }
            })
            .catch(error => {
                console.error('Error:', error);
            });
        }
        
        // تهيئة الصفحة عند التحميل
        window.addEventListener('DOMContentLoaded', function() {
            displayProducts();
            populateWilayas();
        });
    </script>
</body>
</html>
